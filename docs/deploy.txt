==========================================Config

==========================================User and Password
*DB
dbname: 	tinychat
hostname: 	localhost
username: 	roottinychat
password: 	`1Tinychat

==========================================Create server
*Create ssh
ssh-keygen
tinychat
enter
enter
cat tinychat.pub

*Connect FileZilla
Edit->Settings->SFPT->Add->tinychat
Protocol:   SFPT
User:       root

==========================================Install
** Pre install
sudo apt update && sudo apt -y upgrade

*Install apache2
sudo apt install apache2
sudo ufw app list
sudo ufw allow in "Apache"
sudo ufw status

*Find your Serverâ€™s Public IP Address
ip addr show eth0 | grep inet | awk '{ print $2; }' | sed 's/\/.*$//'
curl http://icanhazip.com

*Install Virtual Hosts and enable htacess
sudo mkdir /var/www/tinychat
sudo chmod -R 755 /var/www/tinychat
sudo nano /etc/apache2/sites-available/tinychat.conf

<VirtualHost *:80>
    ServerAdmin admin@tinychat
    ServerName tinychat
    ServerAlias www.tinychat
    DocumentRoot /var/www/tinychat
    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined
    <Directory /var/www/tinychat>
        Options Indexes FollowSymLinks MultiViews
        AllowOverride All
        Order allow,deny
        allow from all
    </Directory> 
</VirtualHost>

sudo a2ensite tinychat.conf
sudo a2dissite 000-default.conf
sudo apache2ctl configtest
sudo a2enmod rewrite
sudo a2enmod headers
sudo service apache2 restart

*Install php 8.1
sudo apt install software-properties-common
sudo add-apt-repository ppa:ondrej/php
sudo apt install php8.1
sudo php -v

*Install MariaDB
sudo apt-key adv --recv-keys --keyserver hkp://keyserver.ubuntu.com:80 0xF1656F24C74CD1D8
sudo add-apt-repository "deb [arch=amd64,arm64,ppc64el] http://mariadb.mirror.liquidtelecom.com/repo/10.4/ubuntu $(lsb_release -cs) main"
sudo apt -y install mariadb-server-10.4 mariadb-client-10.4
sudo mysql_secure_installation 
sudo service mysql start
sudo service mysql status

*Install phpmyadmin with php 8.1
sudo apt install phpmyadmin php8.1-mbstring php-zip php-gd php-json php-curl
sudo phpenmod mbstring
sudo ln -s /etc/phpmyadmin/apache.conf /etc/apache2/conf-available/phpmyadmin.conf
sudo a2enconf phpmyadmin.conf
sudo service apache2 reload

*Install git
sudo apt install git

==========================================Deploy
cd /var/www/tinychat